<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../Css/Perfil-do-Usuario.css">
    <link rel="icon" href="../../../Marcos TIAW/img/iconeAzul.png" type="image/x-icon">
    <title>Booktrade</title>
</head>
<body>
    <header>
        <div>
        <a href="../../Marcos TIAW/index.html"><img src="../Img/Logo.png" alt="logo" style="width: 80px; height: 80px; padding-left: 20px;"></a>
        </div>
        <div id="nome">
            Booktrade 
        </div>
        <div>
        <img id="icone-usuario" src="../Img/User-Icon.png" alt="" style="width: 100px; height: 65px; padding-right: 20px;">
        </div>
    </header>
    <main>
        <div id="esquerdo">
            <div id="foto">
                <img id="imagemPerfil" src="Perfil do usuario.png" alt="">
            </div>
            <input type="file" id="novaImagem" accept="image/*">
            <button id="btnSalvar">Salvar Imagem</button>
        </div>
        <div id="direito">
            <div id="info">
                <h2>Suas Informações</h2>
            </div>
            <button id="alt" onclick="abrirPagina()" >Alterar</button>
            <button id="excluir">Excluir Conta</button>
        </div>
        <script>
        //alterar imagem
        window.onload = function() {
                var imagemPerfil = document.getElementById('imagemPerfil');
                var dataURL = localStorage.getItem('imagemPerfil');
                if (dataURL) {
                    imagemPerfil.src = dataURL;
                }
            };
        document.getElementById('btnSalvar').addEventListener('click', function() {
                var novaImagemInput = document.getElementById('novaImagem');
                var imagemPerfil = document.getElementById('imagemPerfil');
                var icon = document.getElementById('icone-usuario');

                // Verifica se uma imagem foi selecionada
                if (novaImagemInput.files.length > 0) {
                    var novaImagem = novaImagemInput.files[0];
                    var reader = new FileReader();
                    
                    reader.onload = function(e) {
                        var dataURL = e.target.result;
                        localStorage.setItem('imagemPerfil', dataURL);
                        imagemPerfil.src = dataURL; 
                        icon.src = dataURL
                        // Atualiza a imagem do perfil
                    };

                    reader.readAsDataURL(novaImagem);
                } else {
                    alert('Por favor, selecione uma imagem.');
                }
            });
            //Abrir pagina de alteração
            function abrirPagina() {
                window.location.href = "Alteração de dados.html";
            }
        </script>
    </main>
    <script src="../Js/Perfil do usuario.js"></script>

    <footer>
        <p>© Copyright 2024</p>
    </footer>
</html>
